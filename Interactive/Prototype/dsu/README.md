# ЁЯУШ р╣Вр╕Ир╕Чр╕вр╣М: р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е Disjoint Set Union (DSU)

## ЁЯза р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в

р╣Гр╕лр╣Йр╕Щр╕▒р╕Бр╣Ар╕гр╕╡р╕вр╕Щр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е DSU (Disjoint Set Union) р╕лр╕гр╕╖р╕н Union-Find р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕ер╕╕р╣Ир╕бр╕Вр╕нр╕Зр╕кр╕бр╕▓р╕Кр╕┤р╕Б р╕Лр╕╢р╣Ир╕Зр╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ: р╕гр╕зр╕бр╕Бр╕ер╕╕р╣Ир╕б (union) р╣Бр╕ер╕░ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕Бр╕ер╕╕р╣Ир╕бр╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Щ (find/same)

## ЁЯУе р╕нр╕┤р╕Щр╕Юр╕╕р╕Х

* р╕Ир╕│р╕Щр╕зр╕Щр╕кр╕бр╕▓р╕Кр╕┤р╕Бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф $n$
* р╕Кр╕╕р╕Фр╕Вр╕нр╕Зр╕Др╕│р╕кр╕▒р╣Ир╕З `unite(x, y)` р╣Бр╕ер╕░ `same(x, y)`

## ЁЯУд р╣Ар╕нр╕▓р╕Хр╣Мр╕Юр╕╕р╕Х

* р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Вр╕нр╕З `same(x, y)` р╣Гр╕Щр╣Бр╕Хр╣Ир╕ер╕░р╕Бр╕гр╕Ур╕╡

## ЁЯФТ р╕Вр╣Йр╕нр╕Бр╕│р╕лр╕Щр╕Ф

* р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕Бр╕▓р╕гр╕Чр╕│ path compression р╣Бр╕ер╕░ union by rank
* р╕лр╣Йр╕▓р╕бр╣Гр╕Кр╣Й library р╕Юр╕┤р╣Ар╕ир╕йр╕Щр╕нр╕Бр╣Ар╕лр╕Щр╕╖р╕нр╕Ир╕▓р╕Б STL

## ЁЯзк р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Др╕│р╕кр╕▒р╣Ир╕З

```cpp
DSU dsu(10);
dsu.unite(1, 2);
dsu.unite(2, 3);
cout << dsu.same(1, 3); // true
```

## ЁЯОп р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Щр╕гр╕╣р╣Й

* р╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е DSU р╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕вр╕╕р╕Бр╕Хр╣Мр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
* р╕Юр╕▒р╕Тр╕Щр╕▓ logic р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕ер╕╕р╣Ир╕бр╣Бр╕Ър╕Ър╕бр╕╡р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю
* р╕Эр╕╢р╕Бр╕кр╕гр╣Йр╕▓р╕З class р╣Бр╕ер╕░ method р╣Гр╕Щр╣Ар╕Кр╕┤р╕Зр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

## тЦ╢я╕П р╕зр╕┤р╕Шр╕╡ execute

* р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Чр╕╡р╣И directory `project`
* р╕гр╕▒р╕Щр╕Др╕│р╕кр╕▒р╣Ир╕З:

  ```bash
  make run build
  ```
